}
)
grupo$grupo <- as.factor(grupo$grupo)
### por mes
Mes <- list("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre")
mes <- within(mes,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi?",Estado)
Estado<-gsub("San Luis Potosi ","San Luis Potosi",Estado)
Estado<-gsub("Mexico ","Mexico",Estado)
Estado<-gsub("Michoacan ","Michoacan",Estado)
Estado<-gsub("Nuevo Leon ","Nuevo Leon",Estado)
Estado<-gsub("Yucatan ","Yucatan",Estado)
Estado<-gsub("Queretaro","Queretaro",Estado)
Estado<-gsub("San Luis Poto.*","San Luis Potosi",Estado)
Estado <- as.factor(Estado)
mes<-gsub("Ene.*","Enero",mes)
mes<-gsub("Feb.*","Febrero",mes)
mes<-gsub("Mar.*","Marzo",mes)
mes<-gsub("Abr.*","Abril",mes)
mes<-gsub("May.*","Mayo",mes)
mes<-gsub("Jun.*","Junio",mes)
mes<-gsub("Jul.*","Julio",mes)
mes<-gsub("Ago.*","Agosto",mes)
mes<-gsub("Sep.*","Septiembre",mes)
mes<-gsub("Oct.*","Octubre",mes)
mes<-gsub("Nov.*","Noviembre",mes)
mes<-gsub("Dic.*","Diciembre",mes)
mes<-gsub("ENE.*","Enero",mes)
mes<-gsub("FEB.*","Febrero",mes)
mes<-gsub("MAR.*","Marzo",mes)
mes<-gsub("ABR.*","Abril",mes)
mes<-gsub("MAY.*","Mayo",mes)
mes<-gsub("JUN.*","Junio",mes)
mes<-gsub("JUL.*","Julio",mes)
mes<-gsub("AGO.*","Agosto",mes)
mes<-gsub("SEP.*","Septiembre",mes)
mes<-gsub("OCT.*","Octubre",mes)
mes<-gsub("NOV.*","Noviembre",mes)
mes<-gsub("DIC.*","Diciembre",mes)
mes<-as.factor(mes)
}
)
mes <- subset (mes, select= 1:5)
str(fuente)
str(grupo)
str(mes)
unique(fuente$fuente)
unique(fuente$Estado)
fuente <- within(fuente,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan")
Estado <- as.factor(Estado)
fuente <- gsub("Institucion............................................................................................DIF","DIF", fuente)
fuente <- gsub("Otras","OTRAS", fuente)
fuente <- gsub("Salud", "SALUD", fuente)
fuente <- gsub("SEDEMAR", "SEMAR", fuente)
fuente <- gsub("SALUD", "SSA", fuente)
fuente <- gsub("IMSS.ORD","IMMS",fuente)
fuente <- gsub("IMSS.OP","IMMS",fuente)
fuente <- gsub("IMSS.Ord","IMMS",fuente)
fuente <- gsub("IMSS.Op","IMMS",fuente)
fuente <- as.factor(fuente)
}
)
fuente <- subset (fuente, select= 1:5)##corregir columna agredada (i=32)
unique(fuente$Estado)
fuente <- within(fuente,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan",Estado)
Estado <- as.factor(Estado)
fuente <- gsub("Institucion............................................................................................DIF","DIF", fuente)
fuente <- gsub("Otras","OTRAS", fuente)
fuente <- gsub("Salud", "SALUD", fuente)
fuente <- gsub("SEDEMAR", "SEMAR", fuente)
fuente <- gsub("SALUD", "SSA", fuente)
fuente <- gsub("IMSS.ORD","IMMS",fuente)
fuente <- gsub("IMSS.OP","IMMS",fuente)
fuente <- gsub("IMSS.Ord","IMMS",fuente)
fuente <- gsub("IMSS.Op","IMMS",fuente)
fuente <- as.factor(fuente)
}
)
fuente <- subset (fuente, select= 1:5)##corregir columna agredada (i=32)
## por grupo
unique(fuente$Estado)
fuente <- within(fuente,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan",Estado)
Estado <- gsub("Nuevo Le\xf3n.*","Nuevo Leon",Estado)
Estado <- gsub("Quer\xe9taro.*","Queretaro",Estado)
Estado <- gsub("San Luis Potos\xed.*","San Luis Potosi",Estado)
Estado <- gsub("Yucat\xe1n.*","Yucatan",Estado)
Estado <- as.factor(Estado)
fuente <- gsub("Institucion............................................................................................DIF","DIF", fuente)
fuente <- gsub("Otras","OTRAS", fuente)
fuente <- gsub("Salud", "SALUD", fuente)
fuente <- gsub("SEDEMAR", "SEMAR", fuente)
fuente <- gsub("SALUD", "SSA", fuente)
fuente <- gsub("IMSS.ORD","IMMS",fuente)
fuente <- gsub("IMSS.OP","IMMS",fuente)
fuente <- gsub("IMSS.Ord","IMMS",fuente)
fuente <- gsub("IMSS.Op","IMMS",fuente)
fuente <- as.factor(fuente)
}
)
fuente <- subset (fuente, select= 1:5)##corregir columna agredada (i=32)
## por grupo
unique(fuente$Estado)
fuente <- within(fuente,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan",Estado)
Estado <- gsub("Nuevo Le\xf3n.*","Nuevo Leon",Estado)
Estado <- gsub("Quer\xe9taro.*","Queretaro",Estado)
Estado <- gsub("San Luis Potos\xed.*","San Luis Potosi",Estado)
Estado <- gsub("Yucat\xe1n.*","Yucatan",Estado)
Estado <- gsub("M\xe9xico.*","Mexico",Estado)
Estado <- as.factor(Estado)
fuente <- gsub("Institucion............................................................................................DIF","DIF", fuente)
fuente <- gsub("Otras","OTRAS", fuente)
fuente <- gsub("Salud", "SALUD", fuente)
fuente <- gsub("SEDEMAR", "SEMAR", fuente)
fuente <- gsub("SALUD", "SSA", fuente)
fuente <- gsub("IMSS.ORD","IMMS",fuente)
fuente <- gsub("IMSS.OP","IMMS",fuente)
fuente <- gsub("IMSS.Ord","IMMS",fuente)
fuente <- gsub("IMSS.Op","IMMS",fuente)
fuente <- as.factor(fuente)
}
)
fuente <- subset (fuente, select= 1:5)##corregir columna agredada (i=32)
unique(fuente$Estado)
unique(mes$Estado)
estados <- list("Aguascalientes","Baja California","Baja California Sur","Campeche","Coahuila","Colima","Chiapas","Chihuahua","Distrito Federal","Durango","Guanajuato","Guerrero","Hidalgo","Jalisco","Mexico","Michoacan","Morelos","Nayarit","Nuevo Leon","Oaxaca","Puebla","Queretaro","Quintana Roo","San Luis Potosi","Sinaloa","Sonora","Tabasco","Tamaulipas","Tlaxcala","Veracruz","Yucatan","Zacatecas")
fuente <- within(fuente,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan",Estado)
Estado <- gsub("Nuevo Le\xf3n.*","Nuevo Leon",Estado)
Estado <- gsub("Quer\xe9taro.*","Queretaro",Estado)
Estado <- gsub("San Luis Potos\xed.*","San Luis Potosi",Estado)
Estado <- gsub("Yucat\xe1n.*","Yucatan",Estado)
Estado <- gsub("M\xe9xico.*","Mexico",Estado)
Estado <- as.factor(Estado)
fuente <- gsub("Institucion............................................................................................DIF","DIF", fuente)
fuente <- gsub("Otras","OTRAS", fuente)
fuente <- gsub("Salud", "SALUD", fuente)
fuente <- gsub("SEDEMAR", "SEMAR", fuente)
fuente <- gsub("SALUD", "SSA", fuente)
fuente <- gsub("IMSS.ORD","IMMS",fuente)
fuente <- gsub("IMSS.OP","IMMS",fuente)
fuente <- gsub("IMSS.Ord","IMMS",fuente)
fuente <- gsub("IMSS.Op","IMMS",fuente)
fuente <- as.factor(fuente)
}
)
fuente <- subset (fuente, select= 1:5)##corregir columna agredada (i=32)
## por grupo
grupo <- within(grupo,{
Estado <- gsub("Baja California  Sur","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan",Estado)
Estado <- gsub("Nuevo Le\xf3n.*","Nuevo Leon",Estado)
Estado <- gsub("Quer\xe9taro.*","Queretaro",Estado)
Estado <- gsub("San Luis Potos\xed.*","San Luis Potosi",Estado)
Estado <- gsub("Yucat\xe1n.*","Yucatan",Estado)
Estado <- gsub("M\xe9xico.*","Mexico",Estado)
Estado <- as.factor(Estado)
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
grupo <- gsub("x","",grupo)
grupo <- gsub("X","",grupo)
grupo <- gsub("abr","4",grupo)
grupo <- gsub("sep","9",grupo)
grupo <- gsub("abr","4",grupo)
grupo <- gsub("y","",grupo)
grupo <- gsub("oct","10",grupo)
grupo <- gsub("01","1",grupo)
grupo <- gsub("05","5",grupo)
grupo <- gsub("1.4","1...4",grupo)
grupo <- gsub("10.14","10...14",grupo)
grupo <- gsub("5.9","5...9",grupo)
grupo <- gsub("..1","...1",grupo)
grupo <- gsub("[.]","-",grupo)
grupo <- gsub("-19","19",grupo)
grupo <- gsub("-14","14",grupo)
grupo <- gsub("Ign-","desconocido",grupo)
}
)
grupo$grupo <- as.factor(grupo$grupo)
### por mes
Mes <- list("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre")
mes <- within(mes,{
observaciones  <- gsub(" ","", observaciones)
observaciones <- as.integer(observaciones)
for (i in 1:32){
Estado <- gsub(paste0(unlist(estados[i])," "),unlist(estados[i]), Estado)
}
Estado <- gsub("Baja CaliforniaSur","Baja California Sur",Estado)
Estado <- gsub("Baja CaliforniaSu","Baja California Sur",Estado)
Estado <- gsub("Baja California Sur ","Baja California Sur",Estado)
Estado <- gsub("San Luis Potosi","San Luis Potosi?",Estado)
Estado<-gsub("San Luis Potosi ","San Luis Potosi",Estado)
Estado<-gsub("Mexico ","Mexico",Estado)
Estado<-gsub("Michoacan ","Michoacan",Estado)
Estado<-gsub("Nuevo Leon ","Nuevo Leon",Estado)
Estado<-gsub("Yucatan ","Yucatan",Estado)
Estado<-gsub("Queretaro","Queretaro",Estado)
Estado<-gsub("San Luis Poto.*","San Luis Potosi",Estado)
Estado <- gsub("Michoac\xe1n.*","Michoacan",Estado)
Estado <- gsub("Nuevo Le\xf3n.*","Nuevo Leon",Estado)
Estado <- gsub("Quer\xe9taro.*","Queretaro",Estado)
Estado <- gsub("San Luis Potos\xed.*","San Luis Potosi",Estado)
Estado <- gsub("Yucat\xe1n.*","Yucatan",Estado)
Estado <- gsub("M\xe9xico.*","Mexico",Estado)
Estado <- as.factor(Estado)
mes<-gsub("Ene.*","Enero",mes)
mes<-gsub("Feb.*","Febrero",mes)
mes<-gsub("Mar.*","Marzo",mes)
mes<-gsub("Abr.*","Abril",mes)
mes<-gsub("May.*","Mayo",mes)
mes<-gsub("Jun.*","Junio",mes)
mes<-gsub("Jul.*","Julio",mes)
mes<-gsub("Ago.*","Agosto",mes)
mes<-gsub("Sep.*","Septiembre",mes)
mes<-gsub("Oct.*","Octubre",mes)
mes<-gsub("Nov.*","Noviembre",mes)
mes<-gsub("Dic.*","Diciembre",mes)
mes<-gsub("ENE.*","Enero",mes)
mes<-gsub("FEB.*","Febrero",mes)
mes<-gsub("MAR.*","Marzo",mes)
mes<-gsub("ABR.*","Abril",mes)
mes<-gsub("MAY.*","Mayo",mes)
mes<-gsub("JUN.*","Junio",mes)
mes<-gsub("JUL.*","Julio",mes)
mes<-gsub("AGO.*","Agosto",mes)
mes<-gsub("SEP.*","Septiembre",mes)
mes<-gsub("OCT.*","Octubre",mes)
mes<-gsub("NOV.*","Noviembre",mes)
mes<-gsub("DIC.*","Diciembre",mes)
mes<-as.factor(mes)
}
)
mes <- subset (mes, select= 1:5)
str(mes)
str(grupo)
str(fuente)
faltantes_fuente_abs <- length(fuente$observaciones[is.na(fuente$observaciones)])
faltantes_grupo_abs <- length(grupo$observaciones[is.na(grupo$observaciones)])
faltantes_mes_abs <- length(mes$observaciones[is.na(mes$observaciones)])
faltantes_fuente_porc <- 100 * faltantes_fuente_abs  / length(fuente$observaciones)
faltantes_grupo_porc <- 100 * faltantes_grupo_abs  / length(grupo$observaciones)
faltantes_mes_porc <- 100 * faltantes_mes_abs  / length(mes$observaciones)
transf <- c(2003:2013)
suma_obs_fem_an <- NULL
for (i in 1:11){
suma_obs_fem_an[i] <- sum(subset(fuente, ano ==transf[i] & genero == "femenino", select = "observaciones"), na.rm = TRUE)
}
suma_obs_mas_an <- NULL
for (i in 1:11){
suma_obs_mas_an[i] <- sum(subset(fuente, ano ==transf[i] & genero == "masculino", select = "observaciones"), na.rm = TRUE)
}
suma_obs_gen_an <- NULL
for (i in 1:11){
suma_obs_gen_an[i] <- sum(subset(fuente, ano ==transf[i] & genero == "general", select = "observaciones"), na.rm = TRUE)
}
## suma de observaciones por mes y genero
suma_mes_fem <- NULL
Mes <- list("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre")
for (i in 1:12){
suma_mes_fem[i] <- sum(subset(mes, mes == unlist(Mes[i]) & genero == "femenino", select = "observaciones"), na.rm = TRUE)
}
suma_mes_mas <- NULL
Mes <- list("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre")
for (i in 1:12){
suma_mes_mas[i] <- sum(subset(mes, mes == unlist(Mes[i]) & genero == "masculino", select = "observaciones"), na.rm = TRUE)
}
suma_mes_gen <- NULL
Mes <- list("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre")
for (i in 1:12){
suma_mes_gen[i] <- sum(subset(mes, mes == unlist(Mes[i]) & genero == "general", select = "observaciones"), na.rm = TRUE)
}
## suma observaciones por fuente y genero
suma_fuente_fem <- NULL
Fuente <- list("SSA","IMMS","ISSSTE","DIF","PEMEX","SEDENA","SEMAR","OTRAS")
for (i in 1:8){
suma_fuente_fem[i] <- sum(subset(fuente, fuente == unlist(Fuente[i]) & genero == "femenino", select = "observaciones"), na.rm = TRUE)
}
suma_fuente_mas <- NULL
for (i in 1:8){
suma_fuente_mas[i] <- sum(subset(fuente, fuente == unlist(Fuente[i]) & genero == "masculino", select = "observaciones"), na.rm = TRUE)
}
suma_fuente_gen <- NULL
for (i in 1:8){
suma_fuente_gen[i] <- sum(subset(fuente, fuente == unlist(Fuente[i]) & genero == "general", select = "observaciones"), na.rm = TRUE)
}
##suma observaciones por grupo y genero
Grupo <- list("---1","1---4","5---9","10---14","15---19","20---24","25---44","45---49","50---59","60---64","65---","desconocido")
suma_grupo_fem <- NULL
for (i in 1:12){
suma_grupo_fem[i] <- sum(subset(grupo, grupo == unlist(Grupo[i]) & genero == "femenino", select = "observaciones"), na.rm=TRUE)
}
suma_grupo_mas <- NULL
for (i in 1:12){
suma_grupo_mas[i] <- sum(subset(grupo, grupo == unlist(Grupo[i]) & genero == "masculino", select = "observaciones"), na.rm=TRUE)
}
suma_grupo_gen <- NULL
for (i in 1:12){
suma_grupo_gen[i] <- sum(subset(grupo, grupo == unlist(Grupo[i]) & genero == "general", select = "observaciones"), na.rm=TRUE)
}
suma_grupo_fem <- NULL
for (i in 1:12){
suma_grupo_fem[i] <- sum(subset(grupo, grupo == unlist(Grupo[i]) & genero == "femenino")$observaciones, na.rm=TRUE)
}
suma_grupo_mas <- NULL
for (i in 1:12){
suma_grupo_mas[i] <- sum(subset(grupo, grupo == unlist(Grupo[i]) & genero == "masculino")$observaciones, na.rm=TRUE)
}
suma_grupo_gen <- NULL
for (i in 1:12){
suma_grupo_gen[i] <- sum(subset(grupo, grupo == unlist(Grupo[i]) & genero == "general")$observaciones, na.rm=TRUE)
}
suma_fuente_masfem <- suma_fuente_mas + suma_fuente_fem
verd_fuente <- suma_fuente_masfem == suma_fuente_gen
#grupo
suma_grupo_masfem <- suma_grupo_mas + suma_grupo_fem
verd_grupo <- suma_grupo_masfem == suma_grupo_gen
#mes
suma_mes_masfem <- suma_mes_mas + suma_mes_fem
verd_mes <- suma_mes_masfem == suma_mes_gen
media_grupo_gen <- NULL
for (i in 1:12){
media_grupo_gen[i] <- mean(subset(grupo, grupo ==Grupo[i] & genero == "general")$observaciones, na.rm = TRUE)
}
media_fuente_gen <- NULL
for (i in 1:8){
media_fuente_gen[i] <- mean(subset(fuente, fuente ==Fuente[i] & genero == "general")$observaciones, na.rm = TRUE)
}
media_mes_gen <- NULL
for (i in 1:12){
media_mes_gen[i] <- mean(subset(mes, mes ==Mes[i] & genero == "general")$observaciones, na.rm = TRUE)
}
columnas <- c("fuente","hombres","mujeres","suma hombres y mujeres","general","coinciden","media")
## data frames validaciones
validacion_fuente <- data.frame( unlist(Fuente), suma_fuente_mas, suma_fuente_fem, suma_fuente_masfem, suma_fuente_gen, verd_fuente,media_fuente_gen)
colnames(validacion_fuente) <- columnas
columnas <- c("mes","hombres","mujeres","suma hombres y mujeres","general","coinciden","media")
validacion_mes <- data.frame(unlist(Mes),suma_mes_mas, suma_mes_fem, suma_mes_masfem, suma_mes_gen, verd_mes, media_mes_gen)
colnames(validacion_mes) <- columnas
columnas <- c("grupo","hombres","mujeres","suma hombres y mujeres","general","coinciden","media")
validacion_grupo <- data.frame(unlist(Grupo),suma_grupo_mas, suma_grupo_fem, suma_grupo_masfem, suma_grupo_gen, verd_grupo, media_grupo_gen)
colnames(validacion_grupo) <- columnas
validacion_fuente
validacion_grupo
validacion_mes
Estados <- list("Aguascalientes","Baja_California","Baja_California_Sur","Campeche","Coahuila","Colima","Chiapas","Chihuahua","Distrito_Federal","Durango","Guanajuato","Guerrero","Hidalgo","Jalisco","Mexico","Michoacan","Morelos","Nayarit","Nuevo_Leon","Oaxaca","Puebla","Queretaro","Quintana_Roo","San_Luis_Potosi","Sinaloa","Sonora","Tabasco","Tamaulipas","Tlaxcala","Veracruz","Yucatan","Zacatecas")
sum_estado_an_gen <- NULL
for (i in 1:32){
nombre <-paste0("sum_",Estados[i],"_an_gen")
nombre <- list()
for (j in 1:11){
nombre[j] <- sum(subset(fuente, Estado == unlist(Estados[i]) & genero == "general" & ano == transf[j], select= "observaciones"), na.rm=TRUE)
}
}
mediaglobal.mes<-mean(validacion_mes$media)
mediaglobal.grupo<-mean(validacion_grupo$media)
mediaglobal.fuente<-mean(validacion_fuente$media)
ggplot(fuente,aes(x=Estado,y=observaciones,fill=fuente))+geom_bar(stat="identity")+facet_wrap(~año)+theme(axis.text.x=element_text(angle=90,size=9))
ggplot(mes,aes(x=Estado,y=observaciones,fill=mes))+geom_bar(stat="identity")+facet_wrap(~año)+theme(axis.text.x=element_text(angle=90,size=3))+coord_flip()+scale_fill_manual(values=topo.colors(12))
ggplot(grupo,aes(x=Estado,y=observaciones,fill=grupo))+geom_bar(stat="identity")+facet_wrap(~año)+theme(axis.text.x=element_text(angle=90,size=9))+scale_fill_manual(values=heat.colors(12))
ggplot(validacion_mes,aes(x=mes,y=media,fill=mes))+geom_bar(stat="identity")+theme(axis.text.x=element_text(angle=90,size=9))+scale_fill_manual(values=c("#b75b5b", "#7a3d3d", "#eac1c1","#d17575","#db9393","#663333","#3d1e1e","#000000","#663333","#e5b2b2","#a35151","#e0a3a3"))+geom_abline(intercept=mediaglobal.mes,size=2)
ggplot(validacion_grupo,aes(x=grupo,y=media))+geom_bar(stat="identity")+theme(axis.text.x=element_text(angle=90,size=9))+scale_fill_manual(values=c("#b75b5b", "#7a3d3d", "#eac1c1","#d17575","#db9393","#663333","#3d1e1e","#000000","#663333","#e5b2b2","#a35151","#e0a3a3"))+geom_abline(intercept=mediaglobal.grupo,size=2)+coord_flip()
```
ggplot(validacion_mes,aes(x=mes,y=media,fill=mes))+geom_bar(stat="identity")+theme(axis.text.x=element_text(angle=90,size=9))+scale_fill_manual(values=c("#b75b5b", "#7a3d3d", "#eac1c1","#d17575","#db9393","#663333","#3d1e1e","#000000","#663333","#e5b2b2","#a35151","#e0a3a3"))+geom_abline(intercept=mediaglobal.mes,size=2)
?encoding
?file
?Encoding
?save
getwd()
setwd(directorio)
getwd()
save(fuente, file = "DATOS/PROCESADOS")
save(fuente, file = "DATOS/PROCESADOS/")
?SAVE
?save
save(fuente, file = "DATOS/PROCESADOS")
save(fuente, file = "DATOS/PROCESADOS/fuente")
?save
?save.plot
save(fuente, file = "DATOS/PROCESADOS/fuente")
save(mes, file = "DATOS/PROCESADOS/mes")
save(grupo, file = "DATOS/PROCESADOS/grupo")
save(validacion_fuente, file = "DATOS/PROCESADOS/validacion_fuente")
save(validacion_grupo, file = "DATOS/PROCESADOS/validacion_grupo")
save(validacion_mes, file = "DATOS/PROCESADOS/validacion_mes")
?write.table
write.csv(fuente, file = "DATOS/PROCESADOS/fuente")
?write.csv
?write.csv
write.csv(fuente, file = "DATOS/PROCESADOS/fuente", append = TRUE)
write.csv(fuente, file = "DATOS/PROCESADOS/fuente")
write.csv(mes, file = "DATOS/PROCESADOS/mes")
write.csv(grupo, file = "DATOS/PROCESADOS/grupo")
write.csv(validacion_fuente, file = "DATOS/PROCESADOS/validacion_fuente")
write.csv(validacion_grupo, file = "DATOS/PROCESADOS/validacion_grupo")
write.csv(validacion_mes, file = "DATOS/PROCESADOS/validacion_mes")
write.csv(fuente, file = "DATOS/PROCESADOS/fuente.csv")
write.csv(mes, file = "DATOS/PROCESADOS/mes.csv")
write.csv(grupo, file = "DATOS/PROCESADOS/grupo.csv")
write.csv(validacion_fuente, file = "DATOS/PROCESADOS/validacion_fuente.csv")
write.csv(validacion_grupo, file = "DATOS/PROCESADOS/validacion_grupo.csv")
write.csv(validacion_mes, file = "DATOS/PROCESADOS/validacion_mes.csv")
ggplot(fuente,aes(x=Estado,y=observaciones,fill=fuente))+geom_bar(stat="identity")+facet_wrap(~año)+theme(axis.text.x=element_text(angle=90,size=9))
save(fuente, file = "DATOS/PROCESADOS/fuente.RData")
save(mes, file = "DATOS/PROCESADOS/mes.RData")
save(grupo, file = "DATOS/PROCESADOS/grupo.RData")
save(validacion_fuente, file = "DATOS/PROCESADOS/validacion_fuente.RData")
save(validacion_grupo, file = "DATOS/PROCESADOS/validacion_grupo.RData")
save(validacion_mes, file = "DATOS/PROCESADOS/validacion_mes.RData")
?max
max(fuente$observaciones, rm.na=TRUE)
max(fuente$observaciones, na.rm=TRUE)
min(fuente$observaciones, na.rm=TRUE)
min(grupo$observaciones, na.rm=TRUE)
max(grupo$observaciones, na.rm=TRUE)
max(mes$observaciones, na.rm=TRUE)
unique(fuente$genero)
unique(grupo$grupo)
str(validacion_fuente)
max(validacion_fuente$hombres,validacion_grupo$hombres,validacion_mes$hombres)
min(validacion_fuente$hombres,validacion_grupo$hombres,validacion_mes$hombres)
max(validacion_fuente$mujeres,validacion_grupo$mujeres,validacion_mes$mujeres)
min(validacion_fuente$mujeres,validacion_grupo$mujeres,validacion_mes$mujeres)
min(validacion_fuente$mujeres,validacion_grupo$mujeres,validacion_mes$suma hombres y mujeres)
validacion_mes
columnas <- c("fuente","hombres","mujeres","suma_hombres_mujeres","general","coinciden","media")
## data frames validaciones
validacion_fuente <- data.frame( unlist(Fuente), suma_fuente_mas, suma_fuente_fem, suma_fuente_masfem, suma_fuente_gen, verd_fuente,media_fuente_gen)
colnames(validacion_fuente) <- columnas
columnas <- c("mes","hombres","mujeres","suma_hombres_mujeres","general","coinciden","media")
validacion_mes <- data.frame(unlist(Mes),suma_mes_mas, suma_mes_fem, suma_mes_masfem, suma_mes_gen, verd_mes, media_mes_gen)
colnames(validacion_mes) <- columnas
columnas <- c("grupo","hombres","mujeres","suma_hombres_mujeres","general","coinciden","media")
validacion_grupo <- data.frame(unlist(Grupo),suma_grupo_mas, suma_grupo_fem, suma_grupo_masfem, suma_grupo_gen, verd_grupo, media_grupo_gen)
colnames(validacion_grupo) <- columnas
setwd(directorio)
write.csv(fuente, file = "DATOS/PROCESADOS/fuente.csv")
write.csv(mes, file = "DATOS/PROCESADOS/mes.csv")
write.csv(grupo, file = "DATOS/PROCESADOS/grupo.csv")
write.csv(validacion_fuente, file = "DATOS/PROCESADOS/validacion_fuente.csv")
write.csv(validacion_grupo, file = "DATOS/PROCESADOS/validacion_grupo.csv")
write.csv(validacion_mes, file = "DATOS/PROCESADOS/validacion_mes.csv")
save(fuente, file = "DATOS/PROCESADOS/fuente.RData")
save(mes, file = "DATOS/PROCESADOS/mes.RData")
save(grupo, file = "DATOS/PROCESADOS/grupo.RData")
save(validacion_fuente, file = "DATOS/PROCESADOS/validacion_fuente.RData")
save(validacion_grupo, file = "DATOS/PROCESADOS/validacion_grupo.RData")
save(validacion_mes, file = "DATOS/PROCESADOS/validacion_mes.RData")
min(validacion_fuente$suma_hombres_mujeres,validacion_grupo$suma_hombres_mujeres,validacion_mes$suma_hombres_mujeres)
max(validacion_fuente$suma_hombres_mujeres,validacion_grupo$suma_hombres_mujeres,validacion_mes$suma_hombres_mujeres)
max(validacion_fuente$general,validacion_grupo$general,validacion_mes$general)
min(validacion_fuente$general,validacion_grupo$general,validacion_mes$general)
max(validacion_fuente$media,validacion_grupo$media,validacion_mes$media)
min(validacion_fuente$media,validacion_grupo$media,validacion_mes$media)
validacion_mes$media
str(validacion_mes$media)
