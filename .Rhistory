as.string(paste0("f_g-",i)) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
for (i in 2003:2013){
i <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
for (i in 2003:2010){
i <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
i = "2003"
for (i in 2003:2010){
i <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
View(i)
View(i)
read.csv("./DATOS/BRUTOS/csv/f_f-2004.csv")
for (i in 2003:2010){
i <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
for (i in 2003:2008){
i <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
View(i)
View(i)
for (i in 2003:2008){
read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
?read.csv
cfuente <-c("f","g","m")
cgenero <-c("f","m")
for (i in cfuente){
for (j in cgenero){
for (año in 2003:2013){?
paste0(i,"_",j,"-",año) <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\",i,"_",j,"-",año,".csv"))
}
}
}
for (i in 2003:2008){
read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
for (i in cfuente){
for (j in cgenero){
for (año in 2003:2013){
paste0(i,"_",j,"-",año) <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\",i,"_",j,"-",año,".csv"))
}
}
}
read.csv("./DATOS/BRUTOS/csv/f_f-2011.csv")
read.csv("./DATOS/BRUTOS/csv/f_f-2011.csv")
nombres <- list.files(pattern= "./DATOS/BRUTOS/csv/*.csv")
nombres
directorio <- "C:\\Users\\Patatas\\Desktop\\ea1-pr\\DATOS\\BRUTOS\\csv"
setwd(directorio)
getwd()
nombres <- list.files(pattern= "*.csv")
nombres
for (i in 1:99){
nombres[i] <- read.csv(nombres[i])
}
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x, stringsAsFactors = FALSE)))
datos = do.call("rbind", lapply(paste0("./DATOS/BRUTOS/csv/",nombres), function(x) read.csv(x, stringsAsFactors = FALSE)))
setwd("./DATOS/BRUTOS/csv")
setwd("./DATOS/BRUTOS/csv")
getwd()
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x, stringsAsFactors = FALSE)))
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x)))
str(nombres)
directorio <- "C:\\Users\\Patatas\\Desktop\\ea1-pr"
setwd(directorio)
setwd("./DATOS/BRUTOS/csv")
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x)))
for (i in nombres){
x <- read.csv(i)
nombre <- i
assign(i,x)
}
for (i in nombres){
x <- read.csv(i)
nombre <- i
assign(i,x)
}
for (i in 1:length(nombres){
assign( nombres[i], read.csv(nombres[i]))
}
for (i in 1:length(nombres)){
assign( nombres[i], read.csv(nombres[i]))
}
?mcsv_r
??mcsv_r
?qdap
install.packages("qdap")
dir()
mcsv_m(dir())
mcsv_r(dir())
library("qdap", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
library("qdap", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
library("qdap")
for (i in 1:length(nombres)){
assign( nombres[i], read.csv(nombres[i]))
}
nombrea[1]
nombres[1]
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( nombres[i], read.csv(nombres[i]))
}
?melt
library("reshape2", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
?melt
View(`f_f-2003.csv`)
View(`f_f-2003.csv`)
prueba <- melt f_f-2003, na.rm=TRUE, value.name = "fuente")
prueba <- melt (f_f-2003, na.rm=TRUE, value.name = "fuente")
prueba <- melt ("f_f-2003", na.rm=TRUE, value.name = "fuente")
prueba
prueba <- melt (f_f-2003.csv, na.rm=TRUE, value.name = "fuente")
str(f_f-2003.csv)
str("f_f-2003.csv")
f_f-2003.csv
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(ds)-4), read.csv(nombres[i]))
}
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
f_f-2003
View(`f_f-2003`)
View(`f_f-2003`)
'f_g-2003'
str(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2003`)
melt(data = 'f_f-2003', variable.name = "fuente", value.name ="estado")
melt(data = 'f_f-2003', variable.name = "fuente")
View(`f_f-2003`)
data = 'f_f-2003'
str(data)
data = f_f-2003
data = "f_f-2003"
str(data)
as.data.frame(data)
f_f-2003
prueba <- melt (`f_f-2003`, na.rm=TRUE, value.name = "fuente")
prueba
prueba <- melt (`f_f-2003`, na.rm=TRUE, variable.name = "fuente")
prueba
prueba1 <- melt(prueba, variable.name = "estado")
prueba1
prueba <- melt (`f_f-2003`, na.rm=TRUE, variable.name = "fuente", value.name= "numero")
prueba
prueba <- melt (`f_f-2003`, na.rm=TRUE, variable.name = "fuente", value.name= "numero")
prueba
View(`f_f-2003`)
View(`f_f-2003`)
View(prueba)
View(prueba)
View(`m_m-2013`)
View(`g_g-2006.csv`)
View(`g_g-2007`)
View(`f_f-2003`)
View(`f_g-2003`)
View(`f_g-2003`)
View(`f_m-2003`)
View(`f_m-2003`)
View(`g_f-2003`)
View(`g_f-2003`)
View(`g_g-2003`)
View(`m_g-2003`)
for (i in 1:33){
assign( nombres[i], melt (nombres[i], na.rm=TRUE, variable.name = "fuente", value.name= "numero"))
}
View(`f_f-2006`)
View(`f_f-2006`)
for (i in 1:33){
nombres[i] <- melt (nombres[i], na.rm=TRUE, variable.name = "fuente", value.name= "numero")
}
View(`f_f-2005`)
View(`f_f-2005`)
View(`f_f-2005`)
for (i in 1:length(nombres)){
nombres[i substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres[i], read.csv(nombres[i]))
}
for (i in 1:length(nombres)){
nombres[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres[i], read.csv(nombres[i]))
}
nombres
for (i in 1:33){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), melt (substr(nombres[i], 1, nchar(nombres[i])-4), na.rm=TRUE, variable.name = "fuente", value.name= "numero"))
}
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres_sin[i] , read.csv(nombres[i]))
}
?list
nombres_sin <- list()
nombres_sin
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres_sin[i] , read.csv(nombres[i]))
}
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
nombres_sin <- list()
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres_sin[i] , read.csv(nombres[i]))
}
str(nombres_sin)
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
for (i in 1:33){
assign(substr(nombres[i], 1, nchar(nombres[i])-4), melt (substr(nombres[i], 1, nchar(nombres[i])-4), na.rm=TRUE, variable.name =       "fuente", value.name= "numero"))
}
View(`f_f-2004`)
View(`f_f-2004`)
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
View(`f_f-2013`)
View(`f_f-2013`)
View(`f_g-2004`)
View(`f_g-2004`)
nombres_sin <- list()
for (i in 1:length(nombres)){
nombres_sin <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
nombres_sin
nombres_sin <- list()
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
nombres_sin
for (i in 1:33){
assign(nombres_sin[i], melt (nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero"))
}
for (i in 1:33){
nombres_sin[i] <- melt (nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
nombres_sin[3]
view(nombres_sin[3])
View(`f_f-2005`)
View(`f_f-2005`)
str(nombres_sin)
str(nombres)
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
str(nombres_sin)
for (i in 1:33){
nombres_sin[i] <- melt (nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
View(`f_f-2005`)
View(`f_f-2005`)
nombres_sin[3]
View(nombres_sin[3])
View(`nombres_sin[3]`)
View(`f_f-2006`)
View(`f_f-2006`)
for (i in 1:33){
nombres_sin[i] <- melt (`nombres_sin[i]`, na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
?melt
for (i in 1:33){
nombres_sin[i] <- melt (data = nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
View(`f_g-2009`)
View(`f_g-2009`)
str(nombres_sin)
```{r nombres}
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
str(nombres_sin)
for (i in 1:33){
nombres_sin[i] <- melt (data = nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
View(`f_f-2005`)
View(`f_f-2005`)
str(nombres_sin)
?assign
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
for (i in 1:33){
assign(nombres_sin[i], melt (data = nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero"))
}
View(`f_f-2011`)
View(`f_f-2011`)
str(`f_f-2011`)
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero"))
}
View(`f_f-2010`)
View(`f_f-2010`)
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero"), id =1)
}
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero", id =1))
}
View(`f_m-2010`)
View(`f_m-2010`)
View(`f_m-2011`)
View(`f_m-2011`)
str(f_f-2003)
str(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2009`)
View(`f_f-2009`)
?rbind
?get()
for (i in 1:33){
t <- unlist(nombres_sin[i])
tdt <- get(unlist(nombres_sin[i])
tdt <- data.frame(tdt, año = as.integer(substr(t,5,8)))
}
for (i in 1:33){
t <- unlist(nombres_sin[i])
tdt <- get(unlist(nombres_sin[i]))
tdt <- data.frame(tdt, año = as.integer(substr(t,5,8)))
}
View(`f_f-2005`)
View(`f_f-2005`)
View(tdt)
View(tdt)
View(tdt)
for (i in 1:33){
t <- unlist(nombres_sin[i])
tdt <- get(unlist(nombres_sin[i]))
assign(tdt, data.frame(tdt, año = as.integer(substr(t,5,8))))
}
for (i in 1:33){
t <- unlist(nombres_sin[i])
tdt <- get(unlist(nombres_sin[i]))
assign(unlist(nombres_sin[i]), data.frame(tdt, año = as.integer(substr(t,5,8))))
}
View(`f_g-2012`)
View(`f_g-2012`)
View(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2004`)
View(`f_f-2004`)
for (i in 1:33){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
assign(unlist(nombres_sin[i]), data.frame(tdf, año = as.integer(substr(t,5,8))))
}
View(`f_m-2011`)
View(`f_m-2011`)
View(`f_m-2010`)
View(`f_m-2010`)
View(datos)
rm(list = ls())
source.with.encoding('~/.active-rstudio-document', encoding='UTF-8', echo=TRUE)
source.with.encoding('~/.active-rstudio-document', encoding='UTF-8', echo=TRUE)
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero", id =1))
}
for (i in 1:33){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
assign(unlist(nombres_sin[i]), data.frame(tdf, año = as.integer(substr(t,5,8))))
}
View(`f_f-2005`)
View(`g_f-2004`)
View(`g_f-2004`)
for (i in 34:99){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
assign(unlist(nombres_sin[i]), data.frame(tdf, año = as.integer(substr(t,5,8))))
}
View(`m_m-2012`)
View(`m_m-2012`)
?elif()
for (i in 1:99){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
gen <- substr(t,3,4)
if(gen == "f"){
gen_n <- "femenino"
}else{
if(gen == "m"){
gen_n <- "masculino"
}else{
if(gen == "g"){
gen_n <- "general"
}
}
}
assign(unlist(nombres_sin[i]), data.frame(tdf, genero = gen_n)
}
i <- 2
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
gen <- substr(t,3,4)
gen <- substr(t,3,3)
gen <- substr(t,3)
if(gen == "f"){
gen_n <- "femenino"
}else{
if(gen == "m"){
gen_n <- "masculino"
}else{
if(gen == "g"){
gen_n <- "general"
}
}
}
for (i in 1:99){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
gen <- substr(t,3)
if(gen == "f"){
gen_n <- "femenino"
}else{
if(gen == "m"){
gen_n <- "masculino"
}else{
if(gen == "g"){
gen_n <- "general"
}
}
}
assign(unlist(nombres_sin[i]), data.frame(tdf, genero = gen_n)
}
for (i in 1:99){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
gen <- substr(t,3)
if(gen == "f"){
gen_n <- "femenino"
}else{
if(gen == "m"){
gen_n <- "masculino"
}else{
if(gen == "g"){
gen_n <- "general"
}
}
}
assign(unlist(nombres_sin[i]), data.frame(tdf, genero = gen_n))
}
for (i in 1:99){
t <- unlist(nombres_sin[i])
tdf <- get(unlist(nombres_sin[i]))
gen <- substr(t,3,3)
if(gen == "f"){
gen_n <- "femenino"
}else{
if(gen == "m"){
gen_n <- "masculino"
}else{
if(gen == "g"){
gen_n <- "general"
}
}
}
assign(unlist(nombres_sin[i]), data.frame(tdf, genero = gen_n))
}
View(`f_g-2009`)
View(`f_g-2009`)
View(`f_m-2003`)
View(`f_m-2003`)
?rbind()
fuente <- rbind(get(unlist(nombres_sin)))
View(fuente)
View(fuente)
temp <- rbind(get(unlist(nombres_sin[1])),get(unlist(nombres_sin[2])))
View(temp)
View(temp)
for(i in 3:33){
fuente <- rbind(get(unlist(nombres_sin[i])),fuente)
}
fuente <- rbind(get(unlist(nombres_sin[1])),get(unlist(nombres_sin[2])))
for(i in 3:33){
fuente <- rbind(get(unlist(nombres_sin[i])),fuente)
}
View(fuente)
View(fuente)
## por grupo
grupo <- rbind(get(unlist(nombres_sin[34])),get(unlist(nombres_sin[35])))
for(i in 36:33){
grupo <- rbind(get(unlist(nombres_sin[i])),grupo)
}
grupo <- rbind(get(unlist(nombres_sin[34])),get(unlist(nombres_sin[35])))
unlist(nombres_sin[34])
unlist(nombres_sin[34]))
grupo <- rbind(get(unlist(nombres_sin[34])),get(unlist(nombres_sin[35])))
View(`g_f-2003`)
View(`g_f-2004`)
View(`g_f-2005`)
View(`g_f-2006`)
