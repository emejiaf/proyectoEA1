setwd(directorio)
datos <- read.csv("./DATOS/BRUTOS/xlsx/f_m-2011")
getwd()
datos <- read.csv("./DATOS/BRUTOS/xlsx/f_m-2011")
ls()
tree()
datos <- read.csv("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx")
View(datos)
View(datos)
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx")
library("openxlsx", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx")
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx", sheet = 1, startRow = 1, colNames = TRUE, rows = c(1:33), skipEmptyRows = TRUE, rowNames = FALSE, detectDates = FALSE,cols = c(1:10))
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx", sheet = 1, startRow = 1, colNames = TRUE, rows = c(1:33), skipEmptyRows = TRUE, rowNames = FALSE, detectDates = FALSE,cols = c(1:10))
datos <- read.table("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx", sheet = 1, startRow = 1, colNames = TRUE, rows = c(1:33), skipEmptyRows = TRUE, rowNames = FALSE, detectDates = FALSE,cols = c(1:10))
datos <- read.table("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx")
read.table/
read.table?
?read.table
library("xlsx", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
paquetes.utilizados <- c("reshape2", "tidyr", "xtable", "knitr",
"dplyr", "plyr", "lubridate", "ggplot2", "openxlsx")
paquetes.instalados <- rownames(installed.packages())
paquetes.por.instalar <- setdiff(paquetes.utilizados, paquetes.instalados)
# Instala los paquetes faltantes.
if (length(paquetes.por.instalar) != 0 ) install.packages(paquetes.por.instalar,
repos = "http://cran.us.r-project.org")
# Carga los paquetes a utilizar.
lapply(paquetes.utilizados, library, character.only = TRUE)
install.packages("openxlsx")
library("openxlsx", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx", sheet = 1, startRow = 1, colNames = TRUE, rows = c(1:33), skipEmptyRows = TRUE, rowNames = FALSE, detectDates = FALSE,cols = c(1:10))
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx")
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011")
datos <- read.xlsx("./DATOS/BRUTOS/xlsx/f_m-2011.xlsx")
datos <- read.xlsx(".\\DATOS\\BRUTOS\\xlsx\\f_m-2011.xlsx")
?paste0
paste0(".\\DATOS\\BRUTOS\\xlsx\\f_m-",i,".xlsx")
paste0(".\\DATOS\\BRUTOS\\xlsx\\f_m-",2003,".xlsx")
fuente <-m
fuente <-"m"
for fuente in c("f","g","m"){
for genero in c("f","m"){
for año in 2003:2013{
datos <- read.xlsx(paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx") )
}
}
for fuente in c("f","g","m"){
for genero in c("f","m"){
for año in 2003:2013{
datos <- read.xlsx(paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx") )
}
}
}
for fuente in c("f","g","m"){
for genero in c("f","m"){
for año in 2003:2013{
paste0(fuente,"_",genero,"-",año) <- read.xlsx(paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx") )
}
}
}
genero <- f
genero <- "f"
año <- "año"
paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx")
año <- "2004"
paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx")
paste0(fuente,"_",genero,"-",año)
for genero in c("f","m"){
for genero in c("f","m"){}
for fuente in c("f","g","m"){
for genero in c("f","m"){
for año in 2003:2013{
paste0(fuente,"_",genero,"-",año) <- read.xlsx(paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx") )
}
}
}
?read.xlsx
for fuente in c("f","g","m"){
for genero in c("f","m"){
for año in 2003:2013{
temporal <- system.file(paste0(".\\DATOS\\BRUTOS\\xlsx\\",fuente,"_",genero,"-",año,".xlsx"), package = "openxlsx")
paste0(fuente,"_",genero,"-",año) <- read.xlsx(temporal )
}
}
}
for fuente in c("f","g","m"){
fuente
}
cfuente <-c("f","g","m")
cgenero <-c("f","m")
for i in cfuente{
for j in cgenero{
for año in 2003:2013{
temporal <- system.file(paste0(".\\DATOS\\BRUTOS\\xlsx\\",i,"_",j,"-",año,".xlsx"), package = "openxlsx")
paste0(fuente,"_",genero,"-",año) <- read.xlsx(temporal )
}
}
}
paste0(".\\DATOS\\BRUTOS\\xlsx\\",i,"_",j,"-",año,".xlsx")
prueba <- read.table("./DATOS/BRUTOS/FUENTE/f_f-2003.txt")
?read.table
prueba <- read.table("./DATOS/BRUTOS/FUENTE/f_f-2003.txt", nrows = 6:39)
read.csv("./DATOS/BRUTOS/xlsx/f_g-2011.csv")
prueba <- read.csv("./DATOS/BRUTOS/xlsx/f_g-2011.csv")
str(prueba)
head(prueba)
?read.xlsx
read.xlsx(system.file("./DATOS/BRUTOS/xlsx/f_g-2013",package = "openxlsx"))
read.xlsx(system.file("./DATOS/BRUTOS/xlsx/f_g-2013.xlsx",package = "openxlsx"))
read.xlsx(system.file("./DATOS/BRUTOS/xlsx/f_g-2013.xlsx",package = "openxlsx"))
cfuente <-c("f","g","m")
cgenero <-c("f","m")
for i in cfuente{
for j in cgenero{
for año in 2003:2013{
temporal <- system.file(paste0(".\\DATOS\\BRUTOS\\xlsx\\",i,"_",j,"-",año,".xlsx"), package = "openxlsx")
paste0(fuente,"_",genero,"-",año) <- read.xlsx(temporal )
}
}
}
for i in cfuente{}
for i in cfuente{
i
}
for i in cfuente
i
?read.table
for i in cfuente{
for j in cgenero{
for año in 2003:2013{
paste0(fuente,"_",genero,"-",año) <- read.table((paste0(".\\DATOS\\BRUTOS\\txt\\",i,"_",j,"-",año,".xlsx") )
}
}
}
for año in 2003:2013{
paste0(fuente,"_",genero,"-",año) <- read.table((paste0(".\\DATOS\\BRUTOS\\txt\\",f,"_",m,"-",año,".xlsx") )
}
paste0(i,"_",j,"-",año) <- read.table((paste0(".\\DATOS\\BRUTOS\\txt\\",i,"_",j,"-",año,".xlsx") )
i <- f
i <- "f"
j <- "m"
for i in cfuente{
for j in cgenero{
for año in 2003:2013{
paste0(i,"_",j,"-",año) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\",i,"_",j,"-",año,".xlsx") )
}
}
}
paste0(i,"_",j,"-",año) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\",i,"_",j,"-",año,".xlsx") )
paste0(i,"_",j,"-",año) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\",i,"_",j,"-",año,".txt") )
prueba <- read.table("./DATOS/BRUTOS/txt/f_f-2006.txt", skip = 10)
prueba <- read.table("./DATOS/BRUTOS/txt/f_f-2006.txt", skip = 11)
prueba <- read.table("./DATOS/BRUTOS/txt/f_f-2006.txt", skip = 8)
prueba <- read.table("./DATOS/BRUTOS/txt/f_f-2006.txt", skip =23)
prueba <- read.table("./DATOS/BRUTOS/txt/f_f-2006.txt", skip = 10 , fill = TRUE)
head(prueba)
for año in 2003:2013{
paste0("f_g-",año) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",año,".txt"), skip = 10, fill = TRUE )
}
for (año in 2003:2013){
paste0("f_g-",año) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",año,".txt"), skip = 10, fill = TRUE )
}
for (año in 2003:2013){
nombre <- paste0("f_g-",año)
nombre <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",año,".txt"), skip = 10, fill = TRUE )
}
View(nombre)
i = "2013"
for (i in cfuente){
for (j in cgenero){
for (año in 2003:2013){
paste0(i,"_",j,"-",año) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\",i,"_",j,"-",año,".txt"), skip = 10, fill = TRUE )
}
}
}
?paste0
for (i in 2003:2013){
nombre <- paste0("f_g-",i)
nombre <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
juan <- paste0("f_g-",2013)
juan
for (i in 2003:2013){
nombre <- paste0("f_g-",i)
"nombre" <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
for (i in 2003:2013){
paste0("f_g-",i) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
for (i in 2003:2013){
as.string(paste0("f_g-",i)) <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
for (i in 2003:2013){
i <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
for (i in 2003:2010){
i <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
i = "2003"
for (i in 2003:2010){
i <- read.table(paste0(".\\DATOS\\BRUTOS\\txt\\f_g-",i,".txt"), skip = 10, fill = TRUE )
}
View(i)
View(i)
read.csv("./DATOS/BRUTOS/csv/f_f-2004.csv")
for (i in 2003:2010){
i <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
for (i in 2003:2008){
i <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
View(i)
View(i)
for (i in 2003:2008){
read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
?read.csv
cfuente <-c("f","g","m")
cgenero <-c("f","m")
for (i in cfuente){
for (j in cgenero){
for (año in 2003:2013){?
paste0(i,"_",j,"-",año) <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\",i,"_",j,"-",año,".csv"))
}
}
}
for (i in 2003:2008){
read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\f_g-",i,".csv") )
}
for (i in cfuente){
for (j in cgenero){
for (año in 2003:2013){
paste0(i,"_",j,"-",año) <- read.csv(paste0(".\\DATOS\\BRUTOS\\csv\\",i,"_",j,"-",año,".csv"))
}
}
}
read.csv("./DATOS/BRUTOS/csv/f_f-2011.csv")
read.csv("./DATOS/BRUTOS/csv/f_f-2011.csv")
nombres <- list.files(pattern= "./DATOS/BRUTOS/csv/*.csv")
nombres
directorio <- "C:\\Users\\Patatas\\Desktop\\ea1-pr\\DATOS\\BRUTOS\\csv"
setwd(directorio)
getwd()
nombres <- list.files(pattern= "*.csv")
nombres
for (i in 1:99){
nombres[i] <- read.csv(nombres[i])
}
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x, stringsAsFactors = FALSE)))
datos = do.call("rbind", lapply(paste0("./DATOS/BRUTOS/csv/",nombres), function(x) read.csv(x, stringsAsFactors = FALSE)))
setwd("./DATOS/BRUTOS/csv")
setwd("./DATOS/BRUTOS/csv")
getwd()
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x, stringsAsFactors = FALSE)))
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x)))
str(nombres)
directorio <- "C:\\Users\\Patatas\\Desktop\\ea1-pr"
setwd(directorio)
setwd("./DATOS/BRUTOS/csv")
datos = do.call("rbind", lapply(nombres, function(x) read.csv(x)))
for (i in nombres){
x <- read.csv(i)
nombre <- i
assign(i,x)
}
for (i in nombres){
x <- read.csv(i)
nombre <- i
assign(i,x)
}
for (i in 1:length(nombres){
assign( nombres[i], read.csv(nombres[i]))
}
for (i in 1:length(nombres)){
assign( nombres[i], read.csv(nombres[i]))
}
?mcsv_r
??mcsv_r
?qdap
install.packages("qdap")
dir()
mcsv_m(dir())
mcsv_r(dir())
library("qdap", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
library("qdap", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
library("qdap")
for (i in 1:length(nombres)){
assign( nombres[i], read.csv(nombres[i]))
}
nombrea[1]
nombres[1]
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( nombres[i], read.csv(nombres[i]))
}
?melt
library("reshape2", lib.loc="C:/Users/Patatas/Documents/R/win-library/3.0")
?melt
View(`f_f-2003.csv`)
View(`f_f-2003.csv`)
prueba <- melt f_f-2003, na.rm=TRUE, value.name = "fuente")
prueba <- melt (f_f-2003, na.rm=TRUE, value.name = "fuente")
prueba <- melt ("f_f-2003", na.rm=TRUE, value.name = "fuente")
prueba
prueba <- melt (f_f-2003.csv, na.rm=TRUE, value.name = "fuente")
str(f_f-2003.csv)
str("f_f-2003.csv")
f_f-2003.csv
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(ds)-4), read.csv(nombres[i]))
}
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
f_f-2003
View(`f_f-2003`)
View(`f_f-2003`)
'f_g-2003'
str(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2003`)
melt(data = 'f_f-2003', variable.name = "fuente", value.name ="estado")
melt(data = 'f_f-2003', variable.name = "fuente")
View(`f_f-2003`)
data = 'f_f-2003'
str(data)
data = f_f-2003
data = "f_f-2003"
str(data)
as.data.frame(data)
f_f-2003
prueba <- melt (`f_f-2003`, na.rm=TRUE, value.name = "fuente")
prueba
prueba <- melt (`f_f-2003`, na.rm=TRUE, variable.name = "fuente")
prueba
prueba1 <- melt(prueba, variable.name = "estado")
prueba1
prueba <- melt (`f_f-2003`, na.rm=TRUE, variable.name = "fuente", value.name= "numero")
prueba
prueba <- melt (`f_f-2003`, na.rm=TRUE, variable.name = "fuente", value.name= "numero")
prueba
View(`f_f-2003`)
View(`f_f-2003`)
View(prueba)
View(prueba)
View(`m_m-2013`)
View(`g_g-2006.csv`)
View(`g_g-2007`)
View(`f_f-2003`)
View(`f_g-2003`)
View(`f_g-2003`)
View(`f_m-2003`)
View(`f_m-2003`)
View(`g_f-2003`)
View(`g_f-2003`)
View(`g_g-2003`)
View(`m_g-2003`)
for (i in 1:33){
assign( nombres[i], melt (nombres[i], na.rm=TRUE, variable.name = "fuente", value.name= "numero"))
}
View(`f_f-2006`)
View(`f_f-2006`)
for (i in 1:33){
nombres[i] <- melt (nombres[i], na.rm=TRUE, variable.name = "fuente", value.name= "numero")
}
View(`f_f-2005`)
View(`f_f-2005`)
View(`f_f-2005`)
for (i in 1:length(nombres)){
nombres[i substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres[i], read.csv(nombres[i]))
}
for (i in 1:length(nombres)){
nombres[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres[i], read.csv(nombres[i]))
}
nombres
for (i in 1:33){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), melt (substr(nombres[i], 1, nchar(nombres[i])-4), na.rm=TRUE, variable.name = "fuente", value.name= "numero"))
}
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres_sin[i] , read.csv(nombres[i]))
}
?list
nombres_sin <- list()
nombres_sin
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres_sin[i] , read.csv(nombres[i]))
}
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
nombres_sin <- list()
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
assign(nombres_sin[i] , read.csv(nombres[i]))
}
str(nombres_sin)
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
for (i in 1:33){
assign(substr(nombres[i], 1, nchar(nombres[i])-4), melt (substr(nombres[i], 1, nchar(nombres[i])-4), na.rm=TRUE, variable.name =       "fuente", value.name= "numero"))
}
View(`f_f-2004`)
View(`f_f-2004`)
setwd("./DATOS/BRUTOS/csv")
nombres <- list.files(pattern= "*.csv")
for (i in 1:length(nombres)){
assign( substr(nombres[i], 1, nchar(nombres[i])-4), read.csv(nombres[i]))
}
View(`f_f-2013`)
View(`f_f-2013`)
View(`f_g-2004`)
View(`f_g-2004`)
nombres_sin <- list()
for (i in 1:length(nombres)){
nombres_sin <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
nombres_sin
nombres_sin <- list()
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
nombres_sin
for (i in 1:33){
assign(nombres_sin[i], melt (nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero"))
}
for (i in 1:33){
nombres_sin[i] <- melt (nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
nombres_sin[3]
view(nombres_sin[3])
View(`f_f-2005`)
View(`f_f-2005`)
str(nombres_sin)
str(nombres)
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
str(nombres_sin)
for (i in 1:33){
nombres_sin[i] <- melt (nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
View(`f_f-2005`)
View(`f_f-2005`)
nombres_sin[3]
View(nombres_sin[3])
View(`nombres_sin[3]`)
View(`f_f-2006`)
View(`f_f-2006`)
for (i in 1:33){
nombres_sin[i] <- melt (`nombres_sin[i]`, na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
?melt
for (i in 1:33){
nombres_sin[i] <- melt (data = nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
View(`f_g-2009`)
View(`f_g-2009`)
str(nombres_sin)
```{r nombres}
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
str(nombres_sin)
for (i in 1:33){
nombres_sin[i] <- melt (data = nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero")
}
View(`f_f-2005`)
View(`f_f-2005`)
str(nombres_sin)
?assign
nombres_sin <- nombres
for (i in 1:length(nombres)){
nombres_sin[i] <- substr(nombres[i], 1, nchar(nombres[i])-4)
}
for (i in 1:33){
assign(nombres_sin[i], melt (data = nombres_sin[i], na.rm=TRUE, variable.name ="fuente", value.name= "numero"))
}
View(`f_f-2011`)
View(`f_f-2011`)
str(`f_f-2011`)
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero"))
}
View(`f_f-2010`)
View(`f_f-2010`)
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero"), id =1)
}
for (i in 1:33){
assign(nombres_sin[i], melt (data = read.csv(nombres[i]), na.rm=TRUE, variable.name ="fuente", value.name= "numero", id =1))
}
View(`f_m-2010`)
View(`f_m-2010`)
View(`f_m-2011`)
View(`f_m-2011`)
str(f_f-2003)
str(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2003`)
View(`f_f-2009`)
View(`f_f-2009`)
?rbind
